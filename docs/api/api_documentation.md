# epiksode API 문서 (MVP)

이 문서는 epiksode 프로젝트의 MVP(Minimum Viable Product) 개발을 위한 핵심 API 목록을 정의합니다.

**공통 사항**

- **Base URL**: `/api`
- **인증**: `인증 필요`로 표시된 모든 API는 HTTP 요청 헤더에 `Authorization: Bearer <YOUR_JWT_TOKEN>`을 포함해야 합니다.
- **응답 형식**: 모든 응답은 JSON 형식입니다.

---

## 🧑‍💻 회원 & 인증 (Auth & User)

| 기능                      | HTTP Method | Endpoint                                | 인증 | 요청 데이터 (Body)                   | 설명                                                                |
| ------------------------- | ----------- | --------------------------------------- | ---- | ------------------------------------ | ------------------------------------------------------------------- |
| **회원가입**              | `POST`      | `/auth/register`                        |      | `email`, `password`, `username`      | 새로운 사용자를 등록합니다.                                         |
| **로그인**                | `POST`      | `/auth/login`                           |      | `email`, `password`                  | 로그인 후 JWT 토큰을 발급합니다.                                    |
| **이메일/이름 중복 체크** | `GET`       | `/auth/check?type=<type>&value=<value>` |      |                                      | `type`에 `email` 또는 `username`을 지정하여 중복 여부를 확인합니다. |
| **내 정보 조회**          | `GET`       | `/users/me`                             | ✅   |                                      | 현재 로그인된 사용자의 정보를 반환합니다.                           |
| **프로필 수정**           | `PUT`       | `/users/me/profile`                     | ✅   | `username`, `bio`, `profileImageUrl` | 사용자 프로필을 수정합니다.                                         |
| **회원 탈퇴**             | `DELETE`    | `/users/me`                             | ✅   |                                      | 사용자를 비활성화(Soft Delete)합니다.                               |

---

## 🖼️ 사진 (Photo)

| 기능                 | HTTP Method | Endpoint                           | 인증 | 요청 데이터 (Body/Params)                             | 설명                                                                                  |
| -------------------- | ----------- | ---------------------------------- | ---- | ----------------------------------------------------- | ------------------------------------------------------------------------------------- |
| **사진 업로드**      | `POST`      | `/photos`                          | ✅   | `title`, `description`, `image` (multipart/form-data) | 새로운 사진을 업로드합니다.                                                           |
| **사진 리스트 조회** | `GET`       | `/photos?sortBy=<sort>&page=<num>` |      |                                                       | 전체 사진 목록을 조회합니다. `sortBy`로 `latest`(최신순) 또는 `popular`(인기순) 정렬. |
| **사진 상세 조회**   | `GET`       | `/photos/:id`                      |      | `id` (URL 파라미터)                                   | 특정 사진의 상세 정보(댓글, 좋아요 수 포함)를 조회합니다.                             |
| **사진 삭제**        | `DELETE`    | `/photos/:id`                      | ✅   | `id` (URL 파라미터)                                   | 특정 사진을 삭제(Soft Delete)합니다. 본인 사진만 가능.                                |

---

## 💬 댓글 (Comment)

| 기능            | HTTP Method | Endpoint        | 인증 | 요청 데이터 (Body/Params)            | 설명                                                   |
| --------------- | ----------- | --------------- | ---- | ------------------------------------ | ------------------------------------------------------ |
| **댓글 작성**   | `POST`      | `/comments`     | ✅   | `photoId` 또는 `seriesId`, `content` | 사진 또는 시리즈에 댓글을 작성합니다.                  |
| **대댓글 작성** | `POST`      | `/comments`     | ✅   | `parentId`, `content`                | 기존 댓글에 대댓글을 작성합니다.                       |
| **댓글 삭제**   | `DELETE`    | `/comments/:id` | ✅   | `id` (URL 파라미터)                  | 특정 댓글을 삭제(Soft Delete)합니다. 본인 댓글만 가능. |

---

## ❤️ 좋아요 (Like)

| 기능                        | HTTP Method | Endpoint          | 인증 | 요청 데이터 (Body)                         | 설명                                                           |
| --------------------------- | ----------- | ----------------- | ---- | ------------------------------------------ | -------------------------------------------------------------- |
| **좋아요/취소**             | `POST`      | `/likes`          | ✅   | `photoId` 또는 `seriesId` 또는 `commentId` | 특정 콘텐츠에 대해 좋아요를 누르거나 취소합니다. (Toggle 방식) |
| **내가 좋아요한 사진 목록** | `GET`       | `/users/me/likes` | ✅   |                                            | 현재 사용자가 좋아요를 누른 사진 목록을 반환합니다.            |

---

## 📁 컬렉션 & 시리즈 (Collection & Series)

| 기능                        | HTTP Method | Endpoint                  | 인증 | 요청 데이터 (Body/Params)          | 설명                                                           |
| --------------------------- | ----------- | ------------------------- | ---- | ---------------------------------- | -------------------------------------------------------------- |
| **컬렉션 생성**             | `POST`      | `/collections`            | ✅   | `title`, `description`             | 새로운 컬렉션을 생성합니다.                                    |
| **내 컬렉션 리스트**        | `GET`       | `/users/me/collections`   | ✅   |                                    | 내가 만든 컬렉션 목록을 조회합니다.                            |
| **컬렉션 상세 조회**        | `GET`       | `/collections/:id`        |      | `id` (URL 파라미터)                | 특정 컬렉션의 상세 정보와 포함된 사진들을 조회합니다.          |
| **컬렉션에 사진 추가/삭제** | `POST`      | `/collections/:id/photos` | ✅   | `photoId`                          | 컬렉션에 사진을 추가하거나 삭제합니다.                         |
| **시리즈 생성**             | `POST`      | `/series`                 | ✅   | `title`, `description`, `photoIds` | 여러 사진을 묶어 시리즈를 생성합니다.                          |
| **시리즈 상세 조회**        | `GET`       | `/series/:id`             |      | `id` (URL 파라미터)                | 특정 시리즈의 상세 정보와 포함된 사진들을 순서대로 조회합니다. |

---

## 👥 팔로우 (Follow)

| 기능                | HTTP Method | Endpoint          | 인증 | 요청 데이터 (Params)    | 설명                                                     |
| ------------------- | ----------- | ----------------- | ---- | ----------------------- | -------------------------------------------------------- |
| **팔로우/언팔로우** | `POST`      | `/follow/:userId` | ✅   | `userId` (URL 파라미터) | 다른 사용자를 팔로우하거나 언팔로우합니다. (Toggle 방식) |

---

## 🔔 알림 (Notification)

| 기능               | HTTP Method | Endpoint                  | 인증 | 요청 데이터 (Params) | 설명                                  |
| ------------------ | ----------- | ------------------------- | ---- | -------------------- | ------------------------------------- |
| **알림 목록 조회** | `GET`       | `/notifications`          | ✅   |                      | 현재 사용자의 모든 알림을 조회합니다. |
| **알림 읽음 처리** | `PATCH`     | `/notifications/:id/read` | ✅   | `id` (URL 파라미터)  | 특정 알림을 읽음 상태로 변경합니다.   |
